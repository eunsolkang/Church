(this.webpackJsonpzegblog=this.webpackJsonpzegblog||[]).push([[0],{263:function(e,n,t){e.exports=t(445)},268:function(e,n,t){},445:function(e,n,t){"use strict";t.r(n);var a,r=t(0),c=t.n(r),o=t(65),l=t.n(o),i=(t(268),t(58)),u=t(90),s={apiKey:"AIzaSyCoekKbIb-fOIjFLxhdSYAmJp0lunAgBFc",authDomain:"church-attendence.firebaseapp.com",databaseURL:"https://church-attendence.firebaseio.com",projectId:"church-attendence",storageBucket:"church-attendence.appspot.com",messagingSenderId:"340106405182",appId:"1:340106405182:web:6b970853764db0b6d7f86f"},m=function(e){return a.ref("/users/".concat(e)).once("value")},d=function(e){return a.ref("/users/".concat(e)).remove()},p=function(e,n){return a.ref("/users/".concat(n)).set(e)},f=t(24),v=t(38),b=t(39),h=t(31),g=t(118),E=t(28),x=t.n(E);var j=t(463),O=t(455),y=t(460),w=t(446),C=t(251),k=t(456),N=t(461),I=t(458),S=t(457);var Y=t(222),z=t.n(Y);function D(){var e=Object(i.g)(),n=Object(i.f)(),t=Object(i.e)(),a=Object(i.h)();return Object(r.useMemo)((function(){return{push:t.push,replace:t.replace,pathname:n.pathname,query:Object(g.a)({},z.a.parse(n.search),{},e),match:a,location:n,history:t}}),[e,a,n,t])}var A=t(224);function L(){var e=Object(v.a)(["\n    padding-left : 1rem;\n    padding-right : 1rem;\n    width: 1024px;\n    margin : 0 auto;\n    @media(max-width: 1024px){\n        width : 768px;\n    }\n    @media(max-width: 768px){\n        width: 100%;\n    }\n"]);return L=function(){return e},e}var U=b.a.div(L()),M=function(e){var n=e.children,t=Object(A.a)(e,["children"]);return c.a.createElement(U,t,n)};function P(){var e=Object(v.a)(["\n    padding : 2rem;\n    .page-bar{\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .top{\n        display : flex;\n        justify-content : space-between;\n    }\n"]);return P=function(){return e},e}var R=Object(b.a)(M)(P()),B=function(){var e=function(){var e=Object(r.useState)(),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(!1),l=Object(f.a)(o,2),i=l[0],u=l[1],s=Object(r.useState)(!1),v=Object(f.a)(s,2),b=v[0],E=v[1],j=Object(r.useState)({name:"",phoneNumber:"",position:"",i:0}),O=Object(f.a)(j,2),y=O[0],w=O[1],C=function(){var e,n;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.awrap(a.ref("/users").once("value"));case 3:e=t.sent,n=e.val(),c(Object.entries(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]])};return Object(r.useEffect)((function(){C()}),[]),Object(r.useEffect)((function(){C(),u(!1),E(!1)}),[i,b]),{userList:t,handleRemove:function(e){var n;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.awrap(d(e));case 3:n=t.sent,console.log(n),u(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log();case 11:case"end":return t.stop()}}),null,null,[[0,8]])},handleUpdateUser:function(e,n){return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.awrap((r=e,c=n,a.ref("/users/".concat(c)).update(r)));case 3:E(!0),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}var r,c}),null,null,[[0,6]])},onChange:function(e){var n=e.target,t=n.name,a=n.value;w(Object(g.a)({},y,Object(h.a)({},t,a)))},handleCreateUser:function(e,n){return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e,n),t.next=4,x.a.awrap(p(e,n));case 4:E(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},input:y,handleGetUser:function(e){var n;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.awrap(m(e));case 2:n=t.sent,w({name:n.val().name,phoneNumber:n.val().phoneNumber,position:n.val().position,i:e});case 4:case"end":return t.stop()}}))}}}(),n=e.userList,t=e.handleRemove,o=e.handleUpdateUser,l=e.onChange,i=e.handleCreateUser,u=e.input,s=e.handleGetUser,v=D(),b=Object(r.useState)(v.query.page?v.query.page:1),E=Object(f.a)(b,2),Y=E[0],z=E[1],A=Object(r.useState)(!1),L=Object(f.a)(A,2),U=L[0],M=L[1],P=Object(r.useState)(!1),B=Object(f.a)(P,2),q=B[0],F=B[1],J=function(e){var n=Object(r.useState)(""),t=Object(f.a)(n,2),a=t[0],c=t[1];return{value:a,onChange:function(e){c(e.target.value),console.log(e.target.name,e.target.value)},name:e}}("search");if(!n)return c.a.createElement(R,null,c.a.createElement(j.a,{active:!0,inverted:!0},c.a.createElement(O.a,{size:"massive"},"Loading")));console.log(n);var G=function(){return M(!1)},H=function(){return F(!1)},K=null===n||void 0===n?void 0:n.filter((function(e){var n,t;return-1!==(null===(n=e[1])||void 0===n?void 0:null===(t=n.name)||void 0===t?void 0:t.indexOf(J.value.trim()))})),W=null===K||void 0===K?void 0:K.map((function(e,n){var a=e[1],r=a.profileImg,o=a.phoneNumber,l=a.position,i=(a.id,a.name);if(13*(Y-1)<=n&&n<=13*(Y-1)+13)return c.a.createElement(y.a.Item,{key:n},c.a.createElement(y.a.Content,{floated:"right"},c.a.createElement(w.a,{onClick:function(){return function(e){window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&t(e)}(e[0])}},"\uc0ad\uc81c")),c.a.createElement(y.a.Content,{floated:"right"},c.a.createElement(w.a,{primary:!0,onClick:function(){return function(e){F(!0),s(e)}(e[0])}},"\uc218\uc815")),c.a.createElement(C.a,{avatar:!0,src:r}),c.a.createElement(y.a.Content,null,i," ",c.a.createElement("br",null),l?"\uc704\uce58 : "+l:"",c.a.createElement("br",null),o," "),c.a.createElement(y.a.Content,null," "))}));return c.a.createElement(R,null,c.a.createElement("p",{className:"top"},"\ucd1d \ud68c\uc6d0\uc218 : ",W.length,"\uba85 ",c.a.createElement(w.a,{primary:!0,onClick:function(){M(!0)}},"\ud68c\uc6d0\ucd94\uac00")),c.a.createElement(k.a,Object.assign({icon:"search",fluid:!0,placeholder:"Search..."},J)),c.a.createElement(y.a,{divided:!0,verticalAlign:"middle"},W),c.a.createElement("div",{className:"page-bar"},c.a.createElement(N.a,{totalPages:Math.floor((null===W||void 0===W?void 0:W.length)/13),activePage:Y,onPageChange:function(e,n){var t=n.activePage;z(t),v.history.push("?page=".concat(t))}})),c.a.createElement(I.a,{size:"tiny",open:U,onClose:G},c.a.createElement(I.a.Header,null,"\ud68c\uc6d0 \ucd94\uac00"),c.a.createElement(I.a.Content,null,c.a.createElement(S.a,null,c.a.createElement(S.a.Input,{type:"text",onChange:l,name:"name",label:"\ud68c\uc6d0 \uc774\ub984"}),c.a.createElement(S.a.Input,{type:"text",onChange:l,name:"phoneNumber",label:"\uc804\ud654\ubc88\ud638"}),c.a.createElement(S.a.Input,{type:"text",onChange:l,name:"position",label:"\uc704\uce58"}))),c.a.createElement(I.a.Actions,null,c.a.createElement(w.a,{negative:!0,onClick:G},"\ucde8\uc18c"),c.a.createElement(w.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"\ucd94\uac00\ud558\uae30",onClick:function(){i({name:u.name,phoneNumber:u.phoneNumber,position:u.position},W.length),G()}}))),c.a.createElement(I.a,{size:"tiny",open:q,onClose:H},c.a.createElement(I.a.Header,null,"\ud68c\uc6d0 \uc218\uc815"),c.a.createElement(I.a.Content,null,c.a.createElement(S.a,null,c.a.createElement(S.a.Input,{type:"text",onChange:l,value:u.name,name:"name",disabled:!0,label:"\ud68c\uc6d0 \uc774\ub984"}),c.a.createElement(S.a.Input,{type:"text",onChange:l,value:u.phoneNumber,name:"phoneNumber",label:"\uc804\ud654\ubc88\ud638"}),c.a.createElement(S.a.Input,{type:"text",onChange:l,value:u.position,name:"position",label:"\uc704\uce58"}))),c.a.createElement(I.a.Actions,null,c.a.createElement(w.a,{negative:!0,onClick:H},"\ucde8\uc18c"),c.a.createElement(w.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"\uc218\uc815\ud558\uae30",onClick:function(){o({name:u.name,phoneNumber:u.phoneNumber,position:u.position},u.i),H()}}))))},q=t(54);function F(){var e=Object(v.a)(["\n    height : 4rem;\n"]);return F=function(){return e},e}function J(){var e=Object(v.a)(["\n    height: 4rem;\n    display : flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content : space-between;\n    .logo-box{\n        display: flex;\n        flex-direction: row;\n        .logo{\n            font-size : 1.125rem;\n            font-weight : 800;\n            letter-spacing : 2px;\n            margin-left: 2rem;\n        }\n        \n    }\n    \n    .right{\n        display : flex;\n        align-items : center;\n    }\n    .nav{\n       margin-left : 1rem;\n    }\n"]);return J=function(){return e},e}function G(){var e=Object(v.a)(["\n    position : fixed;\n    width: 100%;\n    z-index : 100;\n    box-shadow : 0px 2px 4px rgba(0, 0, 0, 0.08);\n    background : white;\n"]);return G=function(){return e},e}var H=b.a.div(G()),K=Object(b.a)(M)(J()),W=b.a.div(F());var $=function(){return D(),c.a.createElement(c.a.Fragment,null,c.a.createElement(H,null,c.a.createElement(K,null,c.a.createElement("div",{className:"logo-box"},c.a.createElement(q.b,{className:"logo",to:"/user"},"\uc218\uc11c\uad50\ud68c \ucd9c\uc785\ub300\uc7a5")),c.a.createElement("nav",null,c.a.createElement(q.b,{className:"nav",to:"/user"},"\ud68c\uc6d0\uad00\ub9ac"),c.a.createElement(q.b,{className:"nav",to:"/attend"},"\ucd9c\uc11d\uad00\ub9ac")))),c.a.createElement(W,null))};for(var Q=function(){return c.a.createElement("div",null,c.a.createElement($,null),c.a.createElement(B,null))},T={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},V=([{creatAt:"2020-02-01"}].map((function(e){})),0);V<12;V++);var X=t(126),Z=t.n(X);var _=t(45);function ee(){var e=Object(v.a)(["\n.date{\n        display : flex;\n        flex-direction : row;   \n        justify-content: center;\n        align-items : center;\n        margin-top : 1rem;\n        user-select: none;\n        \n        .content{\n            /* border-radius : 8px; */\n            text-align : center;\n            width: 120px;\n            font-size : 1.5rem;\n            margin-right : 1rem;\n            margin-left : 1rem;\n            border : none;\n            border-bottom : 3px solid rgb(118, 118, 118);\n            /* background-color : ","; */\n            padding-top : .75rem;\n            padding-bottom : .75rem;\n            color : black;\n            font-weight : 700;\n        }\n        .icon{\n            cursor: pointer;\n        }\n    }\n"]);return ee=function(){return e},e}var ne=Object(b.a)(M)(ee(),T.cyan[5]),te=function(){var e=function(){var e=Object(r.useState)(),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(!1),l=Object(f.a)(o,2),i=l[0],u=l[1],s=Object(r.useState)(!1),m=Object(f.a)(s,2),d=m[0],p=m[1],v=Object(r.useState)(Z()().format("YYYY-MM-DD")),b=Object(f.a)(v,2),h=b[0],g=b[1],E=function(){var e,n;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.awrap(a.ref("/attend").once("value"));case 3:e=t.sent,n=e.val(),c(Object.entries(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]])};return Object(r.useEffect)((function(){E()}),[]),Object(r.useEffect)((function(){E(),u(!1),p(!1)}),[i,d]),{attendList:t,handleAttendList:E,handleLeftDate:function(){g(Z()(h).add("d",-1).format("YYYY-MM-DD"))},onChange:function(e){var n=e.target,t=(n.name,n.value);g(t)},handleRightDate:function(){g(Z()(h).add("d",1).format("YYYY-MM-DD"))},date:h}}(),n=e.attendList,t=e.handleLeftDate,o=e.onChange,l=e.handleRightDate,i=e.date;console.log(n);var u=(null===n||void 0===n?void 0:n.find((function(e){return e[0]===i})))&&(null===n||void 0===n?void 0:n.find((function(e){return e[0]===i}))[1]),s=u&&Object.entries(u),m=null===s||void 0===s?void 0:s.map((function(e,n){var t=e[1],a=t.time,r=t.user;return c.a.createElement(y.a.Item,{key:n},c.a.createElement(y.a.Content,{floated:"right"},a),c.a.createElement(y.a.Content,null,r.name," ",c.a.createElement("br",null),r.position?"\uc704\uce58 : "+r.position:"",c.a.createElement("br",null),r.phoneNumber," "))}));return c.a.createElement(ne,null,c.a.createElement("div",{className:"date"},c.a.createElement("span",null," ",c.a.createElement(_.a,{color:"grey",onClick:t,name:"angle left",size:"big"})," "),c.a.createElement(k.a,{type:"date",value:i,onChange:o}),c.a.createElement("span",null," ",c.a.createElement(_.a,{color:"grey",onClick:l,name:"angle right",size:"big"})," ")),c.a.createElement(y.a,{divided:!0,verticalAlign:"middle"},m||"\uba85\ub2e8\uc5c6\uc74c!"))};var ae=function(){return c.a.createElement("div",null,c.a.createElement($,null),c.a.createElement(te,null))},re=function(){return function(){u.apps.length||u.initializeApp(s),a=u.database();var e=u.messaging();console.log(e)}(),c.a.createElement("div",null,c.a.createElement(i.a,{exact:!0,component:Q,path:"/"}),c.a.createElement(i.a,{exact:!0,component:Q,path:"/user"}),c.a.createElement(i.a,{exact:!0,component:ae,path:"/attend"}))};t(443),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=t(249);Object(ce.a)();l.a.render(c.a.createElement(q.a,null,c.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[263,1,2]]]);
//# sourceMappingURL=main.6c07add4.chunk.js.map